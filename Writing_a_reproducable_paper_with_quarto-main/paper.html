<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paul C. Bauer">
<meta name="author" content="Camille Landesvatter">

<title>Computational Social Science and Digital Behavioral Data - Writing a reproducible paper with RStudio and Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../libs/quarto-nav/quarto-nav.js"></script>
<script src="../libs/quarto-nav/headroom.min.js"></script>
<script src="../libs/clipboard/clipboard.min.js"></script>
<script src="../libs/quarto-html/quarto.js"></script>
<script src="../libs/quarto-html/popper.min.js"></script>
<script src="../libs/quarto-html/tippy.umd.min.js"></script>
<script src="../libs/quarto-html/anchor.min.js"></script>
<link href="../libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../libs/bootstrap/bootstrap.min.js"></script>
<link href="../libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../libs/tabwid-1.1.3/tabwid.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Computational Social Science and Digital Behavioral Data</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../material.html"> 
<span class="menu-text">Material</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../slides.html"> 
<span class="menu-text">Slides</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://ilias.uni-mannheim.de/goto.php?target=crs_1463271&amp;client_id=ILIAS"> 
<span class="menu-text">ILIAS</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#why-reproducible-research-in-r" id="toc-why-reproducible-research-in-r" class="nav-link active" data-scroll-target="#why-reproducible-research-in-r"><span class="header-section-number">1</span> Why reproducible research (in R)?</a></li>
  <li><a href="#why-quarto" id="toc-why-quarto" class="nav-link" data-scroll-target="#why-quarto"><span class="header-section-number">2</span> Why Quarto?</a></li>
  <li><a href="#sec-prerequisites" id="toc-sec-prerequisites" class="nav-link" data-scroll-target="#sec-prerequisites"><span class="header-section-number">3</span> Prerequisites and installation</a></li>
  <li><a href="#sec-basics-2" id="toc-sec-basics-2" class="nav-link" data-scroll-target="#sec-basics-2"><span class="header-section-number">4</span> Output files and the YAML header</a></li>
  <li><a href="#referencing-within-your-document" id="toc-referencing-within-your-document" class="nav-link" data-scroll-target="#referencing-within-your-document"><span class="header-section-number">5</span> Referencing within your document</a></li>
  <li><a href="#software-versioning" id="toc-software-versioning" class="nav-link" data-scroll-target="#software-versioning"><span class="header-section-number">6</span> Software versioning</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data"><span class="header-section-number">7</span> Data</a>
  <ul class="collapse">
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import"><span class="header-section-number">7.1</span> Import</a></li>
  <li><a href="#putting-your-entire-data-into-the-.qmd-file" id="toc-putting-your-entire-data-into-the-.qmd-file" class="nav-link" data-scroll-target="#putting-your-entire-data-into-the-.qmd-file"><span class="header-section-number">7.2</span> Putting your entire data into the .qmd file</a></li>
  </ul></li>
  <li><a href="#sec-tables" id="toc-sec-tables" class="nav-link" data-scroll-target="#sec-tables"><span class="header-section-number">8</span> Tables</a>
  <ul class="collapse">
  <li><a href="#tables-with-kable-and-kable_styling" id="toc-tables-with-kable-and-kable_styling" class="nav-link" data-scroll-target="#tables-with-kable-and-kable_styling"><span class="header-section-number">8.1</span> Tables with kable() and kable_styling()</a></li>
  <li><a href="#tables-with-modelsummary" id="toc-tables-with-modelsummary" class="nav-link" data-scroll-target="#tables-with-modelsummary"><span class="header-section-number">8.2</span> Tables with modelsummary</a>
  <ul class="collapse">
  <li><a href="#summarize-numeric-variables-with-modelsummary" id="toc-summarize-numeric-variables-with-modelsummary" class="nav-link" data-scroll-target="#summarize-numeric-variables-with-modelsummary"><span class="header-section-number">8.2.1</span> Summarize numeric variables with modelsummary</a></li>
  <li><a href="#summarize-categorical-variables-with-modelsummary" id="toc-summarize-categorical-variables-with-modelsummary" class="nav-link" data-scroll-target="#summarize-categorical-variables-with-modelsummary"><span class="header-section-number">8.2.2</span> Summarize categorical variables with modelsummary</a></li>
  <li><a href="#regression-table-with-modelsummary" id="toc-regression-table-with-modelsummary" class="nav-link" data-scroll-target="#regression-table-with-modelsummary"><span class="header-section-number">8.2.3</span> Regression table with modelsummary</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#inline-code-results" id="toc-inline-code-results" class="nav-link" data-scroll-target="#inline-code-results"><span class="header-section-number">9</span> Inline code &amp; results</a></li>
  <li><a href="#graphs" id="toc-graphs" class="nav-link" data-scroll-target="#graphs"><span class="header-section-number">10</span> Graphs</a>
  <ul class="collapse">
  <li><a href="#r-base-graphs" id="toc-r-base-graphs" class="nav-link" data-scroll-target="#r-base-graphs"><span class="header-section-number">10.1</span> R base graphs</a></li>
  <li><a href="#ggplot2-graphs" id="toc-ggplot2-graphs" class="nav-link" data-scroll-target="#ggplot2-graphs"><span class="header-section-number">10.2</span> ggplot2 graphs</a></li>
  </ul></li>
  <li><a href="#sec-compiling" id="toc-sec-compiling" class="nav-link" data-scroll-target="#sec-compiling"><span class="header-section-number">11</span> Compiling/rendering the document</a></li>
  <li><a href="#good-practices-for-reproducibility" id="toc-good-practices-for-reproducibility" class="nav-link" data-scroll-target="#good-practices-for-reproducibility"><span class="header-section-number">12</span> Good practices for reproducibility</a></li>
  <li><a href="#additional-tricks-for-publishing" id="toc-additional-tricks-for-publishing" class="nav-link" data-scroll-target="#additional-tricks-for-publishing"><span class="header-section-number">13</span> Additional tricks for publishing</a></li>
  <li><a href="#citation-styles" id="toc-citation-styles" class="nav-link" data-scroll-target="#citation-styles"><span class="header-section-number">14</span> Citation styles</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#online-appendix" id="toc-online-appendix" class="nav-link" data-scroll-target="#online-appendix">Online appendix</a>
  <ul class="collapse">
  <li><a href="#sec-rsessioninfo" id="toc-sec-rsessioninfo" class="nav-link" data-scroll-target="#sec-rsessioninfo"><span class="header-section-number">14.1</span> Attach R session info in appendix</a></li>
  <li><a href="#all-the-code-in-the-paper" id="toc-all-the-code-in-the-paper" class="nav-link" data-scroll-target="#all-the-code-in-the-paper"><span class="header-section-number">14.2</span> All the code in the paper</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="paper.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Writing a reproducible paper with RStudio and Quarto</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Paul C. Bauer <a href="mailto:mail@paulcbauer.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-8382-9724" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Mannheim Centre for European Social Research
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Camille Landesvatter <a href="mailto:camille.landesvatter@uni-mannheim.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-0156-5364" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Mannheim Centre for European Social Research
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">This version: April 25, 2023 <br>(First version: February 16, 2023)</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    This paper provides a template to write a reproducible scientific paper with RStudio and Quarto. It falls into a series of other templates, namely using RMarkdown <span class="citation" data-cites="Bauer2018-dl">(<a href="#ref-Bauer2018-dl" role="doc-biblioref">Bauer and Landesvatter 2018</a>)</span> (see <a href="https://osf.io/k8jhx/">here</a>) and Pagedown <span class="citation" data-cites="Bauer2021-dl">(<a href="#ref-Bauer2021-dl" role="doc-biblioref">Bauer and Landesvatter 2021</a>)</span> (see <a href="https://osf.io/q395s">here</a>). Below we outline some of the “tricks”/code (e.g., referencing tables, sections etc.) we had to figure out to produce this document. The underlying files which produce this document can be <a href="https://github.com/paulcbauer/Writing_a_reproducable_paper_with_quarto/">downloaded here</a> (click on <img src="githubcode.png" class="img-fluid"> <span class="math inline">\(\Rightarrow\)</span> <strong>Download ZIP</strong>). We are convinced that in the future there will be many improvements and developments with regards to RStudio and Quarto. We intend to update this file when we discover more convenient code. You can follow any updates on the <a href="https://github.com/paulcbauer/Writing_a_reproducable_paper_with_quarto/">github repository</a>. To compile this PDF document please first read <a href="#sec-prerequisites" class="quarto-xref">Section&nbsp;3</a> (known issues: if folder is part of a cloud drive, html compilation sometimes fails).
  </div>
</div>


</header>


<section id="why-reproducible-research-in-r" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Why reproducible research (in R)?</h1>
<p>Some arguments…</p>
<ul>
<li><p><strong>Access</strong>: Research is normally funded by taxpayers (researchers are also taxpayers). Hence, it should be freely accessible to everyone without any barriers, e.g., without requiring commercial software. Importantly, researchers from developing countries are even more dependent on free access to knowledge <span class="citation" data-cites="Kirsop2005-ro">(<a href="#ref-Kirsop2005-ro" role="doc-biblioref">Kirsop and Chan 2005</a>)</span>.</p></li>
<li><p><strong>Reproducibility</strong>: Even if you have written a study and analyzed the data yourself you will forget what you did after a few months. A fully reproducible setup will help you to trace back your own steps. Obviously, the same is true for other researchers who may want to understand your work and built on it. It may sound like a joke but why not aim for a document that can be used to reproduce your findings in 500 years.</p></li>
<li><p><strong>Errors</strong>: Manual steps in data analysis (e.g., manually copy/pasting values into a table etc.) may introduce errors. Quarto allows you to <strong>automatize</strong> such steps and/or avoid them.</p></li>
<li><p><strong>Revisions</strong>: Revising a paper takes much less time if you have all the code you need in one place, i.e., one <code>.qmd</code> file. For instance, if you decide to exclude a subset of your data you simply need to insert one line of your code at the beginning and everything is rebuilt/re-estimated automatically.</p></li>
</ul>
</section>
<section id="why-quarto" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Why Quarto?</h1>
<p><a href="https://quarto.org/">Quarto</a> is an open-source, scientific and technical publishing system build on <code>pandoc</code>. Their creators from RStudio also call it <a href="https://quarto.org/docs/computations/r.html">„the next generation of R Markdown”</a>.<br>
Like RMarkdown, Quarto uses <code>Knitr</code> to execute <code>R</code> code, and is therefore able to render most existing <code>.rmd</code> files without having to make any adjustments. As in <code>rmd</code> and other more recent developments like R’s <code>pagedown</code>-package, one of the main goals of Quarto is to weave together narrative text and code and produce nicely formatted output documents.<br>
Differences to RMarkdown are not only but especially due to two facts: first, Quarto is multi-lingual (R, Python, Julia, Observable JS, etc.) and second in addition to RMarkdown’s workflow where the final conversion layer uses <code>pandoc</code> to create documents, Quarto uses pandoc with Lua filters (which include latex in pandoc metadata). This contributes to cross-language standardization of outputs. Put differently, it allows working regardless of language, since it allows shared syntax and shared format across languages and input formats.</p>
</section>
<section id="sec-prerequisites" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Prerequisites and installation</h1>
<p>Quarto is a multi-language, next-generation version of R Markdown from RStudio. Multi-language means you can use R, Python, Julia and other languages to create quarto documents. In this template we’ll focus on showing you how to use <strong>RStudio with Quarto</strong>.</p>
<p>We assume that you are familiar with using R and R Markdown. If you don’t know what R Markdown is there are many great resources that you can use (e.g.&nbsp;watch this <a href="https://vimeo.com/178485416">short video</a>). An older template of ours <span class="citation" data-cites="Bauer2018-dl">(see <a href="#ref-Bauer2018-dl" role="doc-biblioref">Bauer and Landesvatter 2018</a>)</span> (<a href="https://osf.io/q395s">https://osf.io/q395s</a>) may provide a quick entry point to writing a reproducible manuscript with R Markdown and Latex. To further deepen your understanding of the different components underlying this template, go on and learn about R, <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>, <a href="https://rmarkdown.rstudio.com/lesson-1.html">R Markdown</a> and <a href="https://quarto.org/">Quarto</a>. For more information on Quarto also consider reading their <a href="https://quarto.org/docs/faq/rmarkdown.html">FAQ</a>.</p>
<p>Like R Markdown, Quarto uses <code>Knitr</code> to execute R code (hence you should also be able to render existing Rmd files without modification), and can render documents of a dozens of formats (e.g., PDF, HTML). For a comprehensive overview watch <a href="https://www.youtube.com/watch?v=yvi5uXQMvu4&amp;t=708s&amp;ab_channel=PositPBC">this video</a> which is a record of a talk introducing <code>quarto</code> given by Tom Mock from RStudio.</p>
<p>To be able to compile the present document you need to follow the steps below:</p>
<ol type="1">
<li>Install <a href="https://www.r-project.org/">R</a> and <a href="https://posit.co/download/rstudio-desktop/">Rstudio</a> (important: most recent versions, e.g.&nbsp;RStudio v2022.07) <span class="citation" data-cites="R2017 Rstudio2015">(<a href="#ref-R2017" role="doc-biblioref">R Core Team 2017</a>; <a href="#ref-Rstudio2015" role="doc-biblioref">RStudio Team 2015</a>)</span>.</li>
<li>Install <a href="https://yihui.name/tinytex/">tinytex</a>, a lightweight version of Tex Live <span class="citation" data-cites="markdown2017 tinytex">(<a href="#ref-markdown2017" role="doc-biblioref">Allaire et al. 2017</a>; <a href="#ref-tinytex" role="doc-biblioref">Xie 2018b</a>)</span> in order to compile PDFs using the code below.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'tinytex'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Install the “rmarkdown”-package <span class="citation" data-cites="markdown2017">(<a href="#ref-markdown2017" role="doc-biblioref">Allaire et al. 2017</a>)</span> and the other packages <span class="citation" data-cites="knitr1 knitr2 knitr3 kableextra modelsummary gt">(<a href="#ref-modelsummary" role="doc-biblioref">Arel-Bundock 2022</a>; <a href="#ref-gt" role="doc-biblioref">Iannone, Cheng, and Schloerke 2022</a>; <a href="#ref-knitr3" role="doc-biblioref">Xie 2014</a>, <a href="#ref-knitr2" role="doc-biblioref">2015</a>, <a href="#ref-knitr1" role="doc-biblioref">2018a</a>; <a href="#ref-kableextra" role="doc-biblioref">Zhu 2017</a>)</span> using the code below. The <code>p_load</code> function from the <code>pacman</code> package tries to load a package, if not installs and loads it.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if pacman is installed if not install</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install/load packages if not present</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  rmarkdown,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  kableExtra,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  modelsummary,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  knitr,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  gt,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  gtsummary</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Download the 5 input files we created (see below) from <a href="https://github.com/paulcbauer/Writing_a_reproducable_paper_with_quarto/">github</a> (click on <img src="githubcode.png" class="img-fluid"> <span class="math inline">\(\Rightarrow\)</span> <strong>Download ZIP</strong>). Ignore/delete the other files.</li>
</ol>
<ul>
<li><code>paper.qmd</code>: The underlying quarto markdown file.</li>
<li><code>references.bib</code>: The bibliography file (<em>We use paperpile to manage references and export the <code>.bib</code> file into the folder that contains the <code>.qmd</code> file</em>)</li>
<li><code>american-sociological-association.csl</code>: The file storing the bibliography style.</li>
<li><code>data.csv</code>: Some raw data.</li>
<li><code>githubcode.png</code>: The image file used in the abstract.</li>
</ul>
<ol start="5" type="1">
<li>Finally store these files together in one folder (and use this folder as your working directory later on), close any open Rstudio instances and directly open <code>paper.qmd</code> with a new Rstudio instance. Doing so assures that the working directory is set to the folder that contains <code>paper.qmd</code> and the other files. Then click on “Render”.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
</ol>
</section>
<section id="sec-basics-2" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Output files and the YAML header</h1>
<p>Quarto allows you to produce documents in various formats (e.g., HTML, PDF, MS Word). By default, once you render the <code>paper.qmd</code> file in Rstudio it creates an output file in HTML called <code>paper.html</code>. However in the YAML you can specify any alternative format (or formats) alongside different options.</p>
<p>Remember (see <a href="#sec-prerequisites" class="quarto-xref">Section&nbsp;3</a>) that in order to compile PDFs you will need to install a recent distribution of LaTeX (e.g., TinyTex).</p>
<p>If you want your document to be rendered in multiple output formats (e.g., HTML and PDF, like we did here), you need to specify both outputs in your YAML header. Take <code>paper.qmd</code> (the underlying quarto file of this pdf) and have a look at the YAML (line #15 - #22) to see how to specify different outputs.</p>
<p>For instructions on how to render your final output document, please read <a href="#sec-compiling" class="quarto-xref">Section&nbsp;11</a>.</p>
</section>
<section id="referencing-within-your-document" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Referencing within your document</h1>
<p>To see how referencing works, simply see the different examples for figures, tables and sections below. For instance, in <a href="#sec-tables" class="quarto-xref">Section&nbsp;8</a> you can find different ways of referencing tables. <code>paper.qmd</code> (the underlying quarto file of this PDF) will show you how we referenced <a href="#sec-tables" class="quarto-xref">Section&nbsp;8</a> right here namely with ‘<code>@sec-tables</code>’ whereas the corresponding section title was assigned the corresponding label ‘<code># Tables {#sec-tables}</code>’. Pay attention that when using section cross-references, you need to enable the number-sections option in your YAML (line #22 of this <code>qmd</code> file).</p>
</section>
<section id="software-versioning" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Software versioning</h1>
<p>Software changes and gets updated, especially with an active developer community like that of R. Luckily you can always access <a href="https://cran.r-project.org/bin/windows/base/old/">old versions of R</a> and old version of R packages in <a href="https://cran.r-project.org/src/contrib/Archive/">the archive</a>. In the archive you need to choose a particular package, e.g dplyr and search for the right version, e.g., <code>dplyr_0.2.tar.gz</code>. Then insert the path in the following function: <code>install.packages("https://....../dplyr_0.2.tar.gz", repos=NULL, type="source")</code>. Ideally, however, results will be simply reproducible in the most current R and package versions.</p>
<p>We would recommend to use the command below and simply add it to the appendix as we did here in Appendix <a href="#sec-rsessioninfo" class="quarto-xref">Section&nbsp;14.1</a>. This will make sure you always inform the reader about the package versions your relied on in your paper. For more advanced tools see <a href="https://rstudio.github.io/packrat/">packrat</a>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="in">#|label: fig-versioning</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="in">cat(paste("#", capture.output(sessionInfo()), "\n", collapse ="")) </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="in">  # or use message() instead of cat()</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="data" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Data</h1>
<section id="import" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="import"><span class="header-section-number">7.1</span> Import</h2>
<p>Generally, code is evaluated by inserting regular code chunks.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- 1:10</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="in">x</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>Below we import an exemplary dataset (you can find <code>data.csv</code> in the <a href="(https://github.com/paulcbauer/Writing_a_reproducable_paper_with_quarto/) with the other files">github repository</a>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| echo=T</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| results="raw"</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="in">data &lt;- read.csv("data.csv")</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="in">head(data)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  Fertility Agriculture Examination Education Catholic Infant.Mortality
1      80.2        17.0          15        12     9.96             22.2
2      83.1        45.1           6         9    84.84             22.2
3      92.5        39.7           5         5    93.40             20.2
4      85.8        36.5          12         7    33.77             20.3
5      76.9        43.5          17        15     5.16             20.6
6      76.1        35.3           9         7    90.57             26.6</code></pre>
</div>
</div>
</section>
<section id="putting-your-entire-data-into-the-.qmd-file" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="putting-your-entire-data-into-the-.qmd-file"><span class="header-section-number">7.2</span> Putting your entire data into the .qmd file</h2>
<p>Applying the function <code>dput()</code> to an object gives you the code needed to reproduce that object. So you could paste that code into your <code>.qmd</code> file if you don’t want to have extra data files. This makes sense where data files are small.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="in">dput(data[1:5,]) # here we only take a subset</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>structure(list(Fertility = c(80.2, 83.1, 92.5, 85.8, 76.9), Agriculture = c(17, 
45.1, 39.7, 36.5, 43.5), Examination = c(15L, 6L, 5L, 12L, 17L
), Education = c(12L, 9L, 5L, 7L, 15L), Catholic = c(9.96, 84.84, 
93.4, 33.77, 5.16), Infant.Mortality = c(22.2, 22.2, 20.2, 20.3, 
20.6)), row.names = c(NA, 5L), class = "data.frame")</code></pre>
</div>
</div>
<p>You can then insert the dput output in an rchunk in your <code>.qmd</code> as below.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="in">data &lt;- structure(list(Fertility = c(80.2, 83.1, 92.5, 85.8, 76.9), </span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="in">                       Agriculture = c(17, 45.1, 39.7, 36.5, 43.5), </span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="in">                       Examination = c(15L, 6L, 5L, 12L, 17L), </span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="in">                       Education = c(12L, 9L, 5L, 7L, 15L), </span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="in">                       Catholic = c(9.96, 84.84, 93.4, 33.77, 5.16), </span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="in">                       Infant.Mortality = c(22.2, 22.2, 20.2, 20.3, 20.6)), </span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="in">                       class = "data.frame", row.names = c(NA, -5L))</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="sec-tables" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Tables</h1>
<p>If you are creating a Quarto document for scientific purposes, you probably cannot avoid creating tables and cross-referencing those tables in your document. Below we show examples that use different R libraries. Importantly, we focus on tables that are customized for PDF output. Formatting text as PDF is probably one of the most widespread standards in the scientific community, especially when it comes to submitting papers and similar documents. However, where applicable we also mention libraries and code for HTML output.</p>
<section id="tables-with-kable-and-kable_styling" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="tables-with-kable-and-kable_styling"><span class="header-section-number">8.1</span> Tables with kable() and kable_styling()</h2>
<p>A great function is <code>kable()</code> from the <code>knitr</code> package in combination with <code>kableExtra</code>. <a href="#tbl-1" class="quarto-xref">Table&nbsp;1</a> provides such an example. To reference the table produced by the chunk you need to add <code>#| label: tbl-x</code> at the start of the chunk, i.e., <code>#| label: tbl-1</code> so that you can reference it by adding “<code>@tbl-1</code>” in your text. See below for the full chunk code.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-1</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Summary: Numeric variables"</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="in">library(kableExtra)</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(swiss[1:5,], row.names = TRUE, </span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="in">      caption = 'Table with kable() and kablestyling()',</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="in">      booktabs = T, format="simple") %&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="in">        kableExtra::kable_styling(full_width = T, </span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="in">                      latex_options = c("striped", </span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="in">                                        "scale_down",</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="in">                                        "HOLD_position"),</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="in">                      font_size = 11)</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div id="tbl-1" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Summary: Numeric variables
</figcaption>
<div aria-describedby="tbl-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<caption>Table with kable() and kablestyling()</caption>
<thead>
<tr class="header">
<th></th>
<th style="text-align: right;">Fertility</th>
<th style="text-align: right;">Agriculture</th>
<th style="text-align: right;">Examination</th>
<th style="text-align: right;">Education</th>
<th style="text-align: right;">Catholic</th>
<th style="text-align: right;">Infant.Mortality</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Courtelary</td>
<td style="text-align: right;">80.2</td>
<td style="text-align: right;">17.0</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">9.96</td>
<td style="text-align: right;">22.2</td>
</tr>
<tr class="even">
<td>Delemont</td>
<td style="text-align: right;">83.1</td>
<td style="text-align: right;">45.1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">84.84</td>
<td style="text-align: right;">22.2</td>
</tr>
<tr class="odd">
<td>Franches-Mnt</td>
<td style="text-align: right;">92.5</td>
<td style="text-align: right;">39.7</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">93.40</td>
<td style="text-align: right;">20.2</td>
</tr>
<tr class="even">
<td>Moutier</td>
<td style="text-align: right;">85.8</td>
<td style="text-align: right;">36.5</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">33.77</td>
<td style="text-align: right;">20.3</td>
</tr>
<tr class="odd">
<td>Neuveville</td>
<td style="text-align: right;">76.9</td>
<td style="text-align: right;">43.5</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">5.16</td>
<td style="text-align: right;">20.6</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="tables-with-modelsummary" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="tables-with-modelsummary"><span class="header-section-number">8.2</span> Tables with modelsummary</h2>
<p>If you want to create well-formatted HTML output, consider learning about the <code>modelsummary</code> R package. <code>modelsummary</code> provides a variety of tables and plots to summarize statistical models and data in R. <code>modelsummary</code> plots and tables are highly customizable and they can be saved to almost all formats, e.g., HTML, PDF and Markdown. This makes it especially easy to embed them in dynamic documents. Please look at the package’s extensive <a href="https://vincentarelbundock.github.io/modelsummary/index.html">documentation</a> where they also show examples for almost any plot or table you might be looking for. In this template we demonstrate an example for modelsummary’s <code>datasummary</code> function. <code>Datasummary</code> creates frequency tables, crosstab tables, correlation tables, balance tables and many <strong>more</strong>.</p>
<section id="summarize-numeric-variables-with-modelsummary" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="summarize-numeric-variables-with-modelsummary"><span class="header-section-number">8.2.1</span> Summarize numeric variables with modelsummary</h3>
<p><a href="#tbl-2" class="quarto-xref">Table&nbsp;2</a> shows a summary table for numeric variables.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-2</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Summary: Numeric variables"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="in">library(modelsummary)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="in">datasummary_skim(swiss, </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="in">                 type="numeric", </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="in">                 histogram=F,</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="in">                 output="flextable") %&gt;% </span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="in">  # column widths</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="in">  flextable::autofit()</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div id="tbl-2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Summary: Numeric variables
</figcaption>
<div aria-describedby="tbl-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-4b72d624{}.cl-4b6f2eb6{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b711866{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b712162{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b71216c{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b71216d{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b71216e{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b712176{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b712177{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-4b72d624"><thead><tr style="overflow-wrap:break-word;"><th class="cl-4b712162"><p class="cl-4b711866"><span class="cl-4b6f2eb6"> </span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Unique</span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Missing Pct.</span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Mean</span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">SD</span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Min</span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Median</span></p></th><th class="cl-4b71216c"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Max</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-4b71216d"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Fertility</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">46</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">70.1</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">12.5</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">35.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">70.4</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">92.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b71216d"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Agriculture</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">47</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">50.7</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">22.7</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">1.2</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">54.1</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">89.7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b71216d"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Examination</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">22</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">16.5</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">8.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">3.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">16.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">37.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b71216d"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Education</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">19</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">11.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">9.6</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">1.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">8.0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">53.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b71216d"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Catholic</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">46</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">0</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">41.1</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">41.7</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">2.1</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">15.1</span></p></td><td class="cl-4b71216e"><p class="cl-4b711866"><span class="cl-4b6f2eb6">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b712176"><p class="cl-4b711866"><span class="cl-4b6f2eb6">Infant.Mortality</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">37</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">0</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">19.9</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">2.9</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">10.8</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">20.0</span></p></td><td class="cl-4b712177"><p class="cl-4b711866"><span class="cl-4b6f2eb6">26.6</span></p></td></tr></tbody></table></div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="summarize-categorical-variables-with-modelsummary" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="summarize-categorical-variables-with-modelsummary"><span class="header-section-number">8.2.2</span> Summarize categorical variables with modelsummary</h3>
<p><a href="#tbl-3" class="quarto-xref">Table&nbsp;3</a> shows a summary table for categorical variables. Notice how for this table we also changed the font to be “Times New Roman”.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-3</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Summary: Categorical variables"</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="in"># Create categorical variables</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="in">swiss$Education_cat &lt;- cut(swiss$Education, </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="in">                   breaks=c(-Inf, 6, 12, Inf), </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="in">                   labels=c("low","middle","high"))</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="in">swiss$Infant.Mortality_cat &lt;- cut(swiss$Infant.Mortality, </span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="in">                   breaks=c(-Inf, 18.15, 21.70, Inf), </span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="in">                   labels=c("low","middle","high"))</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(flextable)</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="in">tab_cat &lt;- datasummary_skim(swiss, </span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="in">                            type="categorical", </span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="in">                            output = 'flextable') </span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="in"># additionally we want to change the font, fontsize and spacing</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="in">library("gdtools")</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="in">tab_cat &lt;- tab_cat %&gt;%</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="in">  font(fontname="Times New Roman", part="header") %&gt;%</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="in">  font(fontname="Times New Roman", j=1:4) %&gt;% </span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="in">  fontsize(size=12, part="header") %&gt;%</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="in">  fontsize(size=10, j=1:4) %&gt;% </span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="in">  line_spacing(space = 0.3, part = "all") %&gt;% </span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="in">  # column widths</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="in">  flextable::autofit()</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="in">tab_cat</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div id="tbl-3" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Summary: Categorical variables
</figcaption>
<div aria-describedby="tbl-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-4b8369a8{}.cl-4b80e426{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b81e704{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.3;background-color:transparent;}.cl-4b81ee5c{width:1.632in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee5d{width:0.748in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee5e{width:0.452in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee66{width:0.577in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee67{width:1.632in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee68{width:0.748in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee69{width:0.452in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee70{width:0.577in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee71{width:1.632in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee72{width:0.748in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee73{width:0.452in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee7a{width:0.577in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee7b{width:1.632in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee7c{width:0.748in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee84{width:0.452in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b81ee85{width:0.577in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-4b8369a8"><thead><tr style="overflow-wrap:break-word;"><th class="cl-4b81ee5c"><p class="cl-4b81e704"><span class="cl-4b80e426"> </span></p></th><th class="cl-4b81ee5d"><p class="cl-4b81e704"><span class="cl-4b80e426">  </span></p></th><th class="cl-4b81ee5e"><p class="cl-4b81e704"><span class="cl-4b80e426">N</span></p></th><th class="cl-4b81ee66"><p class="cl-4b81e704"><span class="cl-4b80e426">%</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-4b81ee67"><p class="cl-4b81e704"><span class="cl-4b80e426">Education_cat</span></p></td><td class="cl-4b81ee68"><p class="cl-4b81e704"><span class="cl-4b80e426">low</span></p></td><td class="cl-4b81ee69"><p class="cl-4b81e704"><span class="cl-4b80e426">14</span></p></td><td class="cl-4b81ee70"><p class="cl-4b81e704"><span class="cl-4b80e426">29.8</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b81ee71"><p class="cl-4b81e704"><span class="cl-4b80e426"></span></p></td><td class="cl-4b81ee72"><p class="cl-4b81e704"><span class="cl-4b80e426">middle</span></p></td><td class="cl-4b81ee73"><p class="cl-4b81e704"><span class="cl-4b80e426">22</span></p></td><td class="cl-4b81ee7a"><p class="cl-4b81e704"><span class="cl-4b80e426">46.8</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b81ee67"><p class="cl-4b81e704"><span class="cl-4b80e426"></span></p></td><td class="cl-4b81ee68"><p class="cl-4b81e704"><span class="cl-4b80e426">high</span></p></td><td class="cl-4b81ee69"><p class="cl-4b81e704"><span class="cl-4b80e426">11</span></p></td><td class="cl-4b81ee70"><p class="cl-4b81e704"><span class="cl-4b80e426">23.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b81ee67"><p class="cl-4b81e704"><span class="cl-4b80e426">Infant.Mortality_cat</span></p></td><td class="cl-4b81ee68"><p class="cl-4b81e704"><span class="cl-4b80e426">low</span></p></td><td class="cl-4b81ee69"><p class="cl-4b81e704"><span class="cl-4b80e426">12</span></p></td><td class="cl-4b81ee70"><p class="cl-4b81e704"><span class="cl-4b80e426">25.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b81ee71"><p class="cl-4b81e704"><span class="cl-4b80e426"></span></p></td><td class="cl-4b81ee72"><p class="cl-4b81e704"><span class="cl-4b80e426">middle</span></p></td><td class="cl-4b81ee73"><p class="cl-4b81e704"><span class="cl-4b80e426">23</span></p></td><td class="cl-4b81ee7a"><p class="cl-4b81e704"><span class="cl-4b80e426">48.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4b81ee7b"><p class="cl-4b81e704"><span class="cl-4b80e426"></span></p></td><td class="cl-4b81ee7c"><p class="cl-4b81e704"><span class="cl-4b80e426">high</span></p></td><td class="cl-4b81ee84"><p class="cl-4b81e704"><span class="cl-4b80e426">12</span></p></td><td class="cl-4b81ee85"><p class="cl-4b81e704"><span class="cl-4b80e426">25.5</span></p></td></tr></tbody></table></div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="regression-table-with-modelsummary" class="level3" data-number="8.2.3">
<h3 data-number="8.2.3" class="anchored" data-anchor-id="regression-table-with-modelsummary"><span class="header-section-number">8.2.3</span> Regression table with modelsummary</h3>
<p><a href="#tbl-4" class="quarto-xref">Table&nbsp;4</a> shows the output for a regression table. Make sure you name all the models you estimate with unique identifiers (even if its 50 models) and explicitly refer to model names (M1, M2 etc.) in the text.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-4</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Linear regression with modelsummary"</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="in">#| results: "asis"</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="in">library(modelsummary)</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="in">M1 &lt;- lm(Fertility ~ Education + Agriculture, data = swiss)</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="in">M2 &lt;- lm(Fertility ~ Education + Catholic, data = swiss)</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="in">M3 &lt;- lm(Fertility ~ Education + Infant.Mortality + Agriculture, data = swiss)</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="in">models &lt;- list("M1" = M1, "M2" =  M2, "M3" = M3)</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="in">library(gt)</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="in">library(gtsummary)</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="in"># additionally we want to change the font, font size and spacing</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="in">modelsummary(models,</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="in">             output = 'gt',</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="in">             notes = "Notes: some notes...") %&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="in">    tab_spanner(label = 'Dependent variable: Fertility', columns = 2:4) %&gt;%</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="in">  tab_options(</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="in">    table.font.size = 10,</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="in">    data_row.padding = px(1),</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="in">    table.border.top.color = "white",</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="in">    heading.border.bottom.color = "black",</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="in">    row_group.border.top.color = "black",</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="in">    row_group.border.bottom.color = "white",</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a><span class="in">    table.border.bottom.color = "white",</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="in">    column_labels.border.top.color = "black",</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="in">    column_labels.border.bottom.color = "black",</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a><span class="in">    table_body.border.bottom.color = "black",</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="in">    table_body.hlines.color = "white"</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a><span class="in"># Produce right output depending on format (html vs. latex)</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a><span class="in">if(knitr::is_html_output()){table4}else</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a><span class="in">    {table4 %&gt;% gt::as_latex() %&gt;% </span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a><span class="in">    as.character() %&gt;% </span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a><span class="in">    gsub("\\(Intercept\\)", "Intercept", .) %&gt;% </span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a><span class="in">    cat()}</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-4" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Linear regression with modelsummary
</figcaption>
<div aria-describedby="tbl-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<div id="jadutekkuz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jadutekkuz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jadutekkuz thead, #jadutekkuz tbody, #jadutekkuz tfoot, #jadutekkuz tr, #jadutekkuz td, #jadutekkuz th {
  border-style: none;
}

#jadutekkuz p {
  margin: 0;
  padding: 0;
}

#jadutekkuz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jadutekkuz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jadutekkuz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jadutekkuz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jadutekkuz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jadutekkuz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jadutekkuz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jadutekkuz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jadutekkuz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jadutekkuz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jadutekkuz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jadutekkuz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jadutekkuz .gt_spanner_row {
  border-bottom-style: hidden;
}

#jadutekkuz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jadutekkuz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jadutekkuz .gt_from_md > :first-child {
  margin-top: 0;
}

#jadutekkuz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jadutekkuz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jadutekkuz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jadutekkuz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jadutekkuz .gt_row_group_first td {
  border-top-width: 2px;
}

#jadutekkuz .gt_row_group_first th {
  border-top-width: 2px;
}

#jadutekkuz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jadutekkuz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jadutekkuz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jadutekkuz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jadutekkuz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jadutekkuz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jadutekkuz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jadutekkuz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jadutekkuz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jadutekkuz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jadutekkuz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jadutekkuz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jadutekkuz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jadutekkuz .gt_left {
  text-align: left;
}

#jadutekkuz .gt_center {
  text-align: center;
}

#jadutekkuz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jadutekkuz .gt_font_normal {
  font-weight: normal;
}

#jadutekkuz .gt_font_bold {
  font-weight: bold;
}

#jadutekkuz .gt_font_italic {
  font-style: italic;
}

#jadutekkuz .gt_super {
  font-size: 65%;
}

#jadutekkuz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jadutekkuz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jadutekkuz .gt_indent_1 {
  text-indent: 5px;
}

#jadutekkuz .gt_indent_2 {
  text-indent: 10px;
}

#jadutekkuz .gt_indent_3 {
  text-indent: 15px;
}

#jadutekkuz .gt_indent_4 {
  text-indent: 20px;
}

#jadutekkuz .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings gt_spanner_row">
<th rowspan="2" id=" " class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th colspan="3" id="Dependent variable: Fertility" class="gt_center gt_columns_top_border gt_column_spanner_outer" data-quarto-table-cell-role="th" scope="colgroup"><span class="gt_column_spanner">Dependent variable: Fertility</span></th>
</tr>
<tr class="odd gt_col_headings">
<th id="M1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">M1</th>
<th id="M2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">M2</th>
<th id="M3" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">M3</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers=" ">(Intercept)</td>
<td class="gt_row gt_center" headers="M1">84.080***</td>
<td class="gt_row gt_center" headers="M2">74.234***</td>
<td class="gt_row gt_center" headers="M3">51.101***</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="M1">(5.782)</td>
<td class="gt_row gt_center" headers="M2">(2.352)</td>
<td class="gt_row gt_center" headers="M3">(10.995)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">Education</td>
<td class="gt_row gt_center" headers="M1">-0.963***</td>
<td class="gt_row gt_center" headers="M2">-0.788***</td>
<td class="gt_row gt_center" headers="M3">-0.857***</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="M1">(0.189)</td>
<td class="gt_row gt_center" headers="M2">(0.129)</td>
<td class="gt_row gt_center" headers="M3">(0.173)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">Agriculture</td>
<td class="gt_row gt_center" headers="M1">-0.066</td>
<td class="gt_row gt_center" headers="M2"></td>
<td class="gt_row gt_center" headers="M3">-0.026</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="M1">(0.080)</td>
<td class="gt_row gt_center" headers="M2"></td>
<td class="gt_row gt_center" headers="M3">(0.073)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">Catholic</td>
<td class="gt_row gt_center" headers="M1"></td>
<td class="gt_row gt_center" headers="M2">0.111***</td>
<td class="gt_row gt_center" headers="M3"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="M1"></td>
<td class="gt_row gt_center" headers="M2">(0.030)</td>
<td class="gt_row gt_center" headers="M3"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">Infant.Mortality</td>
<td class="gt_row gt_center" headers="M1"></td>
<td class="gt_row gt_center" headers="M2"></td>
<td class="gt_row gt_center" headers="M3">1.493**</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" " style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000"></td>
<td class="gt_row gt_center" headers="M1" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000"></td>
<td class="gt_row gt_center" headers="M2" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000"></td>
<td class="gt_row gt_center" headers="M3" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000">(0.439)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">Num.Obs.</td>
<td class="gt_row gt_center" headers="M1">47</td>
<td class="gt_row gt_center" headers="M2">47</td>
<td class="gt_row gt_center" headers="M3">47</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" ">R2</td>
<td class="gt_row gt_center" headers="M1">0.449</td>
<td class="gt_row gt_center" headers="M2">0.575</td>
<td class="gt_row gt_center" headers="M3">0.566</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">R2 Adj.</td>
<td class="gt_row gt_center" headers="M1">0.424</td>
<td class="gt_row gt_center" headers="M2">0.555</td>
<td class="gt_row gt_center" headers="M3">0.536</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" ">AIC</td>
<td class="gt_row gt_center" headers="M1">349.7</td>
<td class="gt_row gt_center" headers="M2">337.6</td>
<td class="gt_row gt_center" headers="M3">340.5</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">BIC</td>
<td class="gt_row gt_center" headers="M1">357.1</td>
<td class="gt_row gt_center" headers="M2">345.0</td>
<td class="gt_row gt_center" headers="M3">349.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" ">Log.Lik.</td>
<td class="gt_row gt_center" headers="M1">-170.846</td>
<td class="gt_row gt_center" headers="M2">-164.782</td>
<td class="gt_row gt_center" headers="M3">-165.243</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">RMSE</td>
<td class="gt_row gt_center" headers="M1">9.17</td>
<td class="gt_row gt_center" headers="M2">8.06</td>
<td class="gt_row gt_center" headers="M3">8.14</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="odd">
<td colspan="4" class="gt_sourcenote">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td>
</tr>
<tr class="even">
<td colspan="4" class="gt_sourcenote">Notes: put some notes here...</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</figure>
</div>
</section>
</section>
</section>
<section id="inline-code-results" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Inline code &amp; results</h1>
<p>Reproduction reaches new heights when you work with inline code. For instance, you can automatize the display of certain coefficients within the text. An example is to include estimates, e.g., the coefficient of <code>dist</code> of the model we ran above. <code class="r"><code>`r round(coef(M1)[2], 2)`</code></code> will insert the coefficient as follows: -0.96. Or <code class="r"><code>`r 3 + 7`</code></code> will insert a 10 in the text.<br>
Inline code/results that depend on earlier objects in your document will automatically be updated once you change those objects. For instance, imagine a reviewer asks you to omit certain observations from your sample. You can simply do so in the beginning of your code and push play subsequently. At time you might have to set <code>cache = FALSE</code> at the beginning so that all the code chunks are rerun.<br>
Researchers often avoid referring to results in-text etc. because you easily forget to change them when revising a manuscript. At the same it can make an article much more informative and easier to read, e.g., if you discuss a coefficient in the text you can directly show it in the section in which you discuss it. Inline code allows you to do just that. R Markdown allows you to that do so in a reproducible and automatized manner.</p>
</section>
<section id="graphs" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Graphs</h1>
<section id="r-base-graphs" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="r-base-graphs"><span class="header-section-number">10.1</span> R base graphs</h2>
<p>A fully reproducible manuscript would create diagrams directly in the <code>.qmd</code> file and insert them in the appropriate place. It’s relatively simple to insert R base graphs as you can see in <a href="#fig-1" class="quarto-xref">Figure&nbsp;1</a>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-1</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Scatterplot of Speed and Distance"</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="in">plot(swiss$Catholic, swiss$Fertility)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Scatterplot of Speed and Distance
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="ggplot2-graphs" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="ggplot2-graphs"><span class="header-section-number">10.2</span> ggplot2 graphs</h2>
<p>Below in <a href="#fig-2" class="quarto-xref">Figure&nbsp;2</a> we also show a example with R’s <code>ggplot2</code> package.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-2</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Miles per gallon according to the weight"</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="in">plot &lt;- ggplot(swiss, aes(x=Catholic, y=Fertility, shape=Education_cat)) +</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="in">        geom_point() +</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="in">        labs(x="Agriculture", y = "Fertility", shape="Education") +</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="in">        theme_classic()</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="in">plot</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-2" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" data-fig-pos="H" width="576">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Fertility and Agriculture by Education
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="sec-compiling" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Compiling/rendering the document</h1>
<p>Eventually you have two options on how to render/compile/knit your document:</p>
<ul>
<li><p>first, use the Render Button in R Studio. If you click it without using the drop down menu, by default it will create HTML since it is the first format listed in our YAML. Always remember to specify your desired output formats in your YAML (as described in <a href="#sec-basics-2" class="quarto-xref">Section&nbsp;4</a>) If you use the drop down menu of the “Render”-button, you can specify the desired output (e.g., HTML or PDF) but only if you specified it in your YAML.</p></li>
<li><p>second, if you are not using RStudio and/or you prefer to render from the R console, use the <code>quarto</code> package to render to all formats at the same time with the <code>quarto_render()</code> function:</p></li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="in">quarto::quarto_render()</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Beforehand don’t forget to install the <code>quarto</code> package <span class="citation" data-cites="quarto">(<a href="#ref-quarto" role="doc-biblioref">Allaire 2022</a>)</span>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="in">install.packages("quarto")</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here you can again specify the name of the resulting document as well as the desired output format(s):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="in">quarto::quarto_render(</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="in">  "paper.qmd", </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="in">  output_format = c("pdf", "html")</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Your output(s) will be saved in your working directory.</p>
</section>
<section id="good-practices-for-reproducibility" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> Good practices for reproducibility</h1>
<p>Every researcher has his own optimized setup. Currently we would recommend the following:</p>
<ul>
<li>Keep all files of your project (that matter for producing the PDF) in one folder without subfolders. You can zip and directly upload that folder to the <a href="https://dataverse.harvard.edu/">Harvard dataverse</a>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></li>
<li>Make sure that filenames have a logic to them.
<ul>
<li>Main file with text/code: “paper.qmd”, “report.qmd”</li>
<li>Data files: “data_xxxxxx.*”</li>
<li>Image files: “fig_xxxxxx.*”</li>
<li>Tables files: “table_xxxx.*”</li>
<li>etc.</li>
<li>Ideally, your filenames will correspond to the names in the paper. For instance, Figure 1 in the paper may have a corresponding file called <code>fig_1_xxxxx.pdf</code>.</li>
</ul></li>
<li>Use the document outline in R studio (Ctrl + Shift + O) when you work with R Markdown.</li>
<li>Name rchunks according to what they do or produce:
<ul>
<li>“<code>fig-...</code>” for chunks producing figures</li>
<li>“<code>table-...</code>” for chunks producing tables</li>
<li>“<code>model-...</code>” for chunks producing model estimates</li>
<li>“<code>import-...</code>” for chunks importing data</li>
<li>“<code>recoding-...</code>” for chunks in which data is recoded</li>
</ul></li>
<li>Use “really” informative variable names:
<ul>
<li>Q: What do you think does the variable <em>trstep</em> measure? It actually measures trust in the European parliament.
<ul>
<li>How could we call this variable instead? Yes, <code>trust.european.parliament</code> which is longer but will probably be understood by another researcher in 50 years.</li>
</ul></li>
<li>If your setup is truly reproducible you will probably re-use the variable names that you generate as variable names in the tables you produce. Hence, there is an incentive to use good names.</li>
</ul></li>
<li>Use unique identifiers in the final R Markdown document paper.qmd that you upload:
<ul>
<li>Think of someone who wants to produce Figure 1/Model 1/Table 1 in your paper but doesn’t find it in your code…
<ul>
<li>Name the chunks “fig-1”, “fig-2” as the are named in the published paper.</li>
<li>Name the chunks that produce tables “table-1”, “table-2” etc. as they are named in the published paper.</li>
<li>Name your statistical models in your R code “M1”, “M2” as they are named in the published paper.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="additional-tricks-for-publishing" class="level1" data-number="13">
<h1 data-number="13"><span class="header-section-number">13</span> Additional tricks for publishing</h1>
<ul>
<li>Make your script anonymous
<ul>
<li>Simply put a <code>&lt;!-- ... --&gt;</code> around any identifying information, e.g., author names, title footnote etc.</li>
</ul></li>
<li>Counting words
<ul>
<li>Use adobe acrobat (commerical software) to convert your file to a word file. Then open in word and delete all the parts that shouldn’t go into the word count. The word count is displayed in the lower right.</li>
<li>Use an one of the online services to count your words (search for “pdf word count”)</li>
</ul></li>
<li>Appendix: You can change the numbering format for the appendix in the <code>.qmd</code> file
<ul>
<li>What is still not possible in this document is to automatically have separate reference sections for paper and appendix.</li>
</ul></li>
<li>Journals may require you to use their tex style: Sometimes you can simply use their template in your rmarkdown file. See <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/LDUMNY">here</a> for a PLOS one example.</li>
</ul>
</section>
<section id="citation-styles" class="level1" data-number="14">
<h1 data-number="14"><span class="header-section-number">14</span> Citation styles</h1>
<p>If your study needs to follow a particular citation style, you can set the corresponding style in the header of your <code>.qmd</code> document. To do so you have to download the corresponding <code>.csl</code> file.</p>
<p>In the present document we use the style of the American Sociological Association and set it in the preamble with <code>csl: american-sociological-association.csl</code>. However, you also need to download the respective <code>.csl</code> file from the following github page: https://github.com/citation-style-language/styles and copy it into your working directory for it to work.</p>
<p>The github directory contains a wide variety of citation style files depending on what discipline you work in.</p>
<p>Also read <a href="https://quarto.org/docs/authoring/footnotes-and-citations.html">quarto’s official documentation</a> about Citations and Footnotes.</p>
<div style="page-break-after: always;"></div>
</section>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-quarto" class="csl-entry" role="listitem">
Allaire, JJ. 2022. <em><a href="https://CRAN.R-project.org/package=quarto">Quarto: R Interface to ’Quarto’ Markdown Publishing System</a></em>.
</div>
<div id="ref-markdown2017" class="csl-entry" role="listitem">
Allaire, JJ, Jeffrey Horner, Vicent Marti, and Natacha Porte. 2017. <em><a href="https://CRAN.R-project.org/package=markdown">Markdown: ’Markdown’ Rendering for r</a></em>.
</div>
<div id="ref-modelsummary" class="csl-entry" role="listitem">
Arel-Bundock, Vincent. 2022. <em><a href="https://CRAN.R-project.org/package=modelsummary">Modelsummary: Summary Tables and Plots for Statistical Models and Data: Beautiful, Customizable, and Publication-Ready</a></em>.
</div>
<div id="ref-Bauer2018-dl" class="csl-entry" role="listitem">
Bauer, Paul C. and Camille Landesvatter. 2018. <span>“Writing a Reproducible Paper in <span>R</span> Markdown.”</span> <em>Open Science Framework Preprint</em> 1–14.
</div>
<div id="ref-Bauer2021-dl" class="csl-entry" role="listitem">
Bauer, Paul and Camille Landesvatter. 2021. <span>“Writing a Reproducible Paper with <span>R</span> Markdown and Pagedown.”</span> <em>Open Science Framework Preprint</em> 1–15.
</div>
<div id="ref-gt" class="csl-entry" role="listitem">
Iannone, Richard, Joe Cheng, and Barret Schloerke. 2022. <em><a href="https://CRAN.R-project.org/package=gt">Gt: Easily Create Presentation-Ready Display Tables</a></em>.
</div>
<div id="ref-Kirsop2005-ro" class="csl-entry" role="listitem">
Kirsop, Barbara and Leslie Chan. 2005. <span>“Transforming Access to Research Literature for Developing Countries.”</span> <em>Serials Review</em> 31(4):246–55.
</div>
<div id="ref-R2017" class="csl-entry" role="listitem">
R Core Team. 2017. <em><a href="https://www.R-project.org/">R: A Language and Environment for Statistical Computing</a></em>. Vienna, Austria: R Foundation for Statistical Computing.
</div>
<div id="ref-Rstudio2015" class="csl-entry" role="listitem">
RStudio Team. 2015. <em><a href="http://www.rstudio.com/">RStudio: Integrated Development Environment for r</a></em>. Boston, MA: RStudio, Inc.
</div>
<div id="ref-knitr3" class="csl-entry" role="listitem">
Xie, Yihui. 2014. <span>“<a href="http://www.crcpress.com/product/isbn/9781466561595">Knitr: A Comprehensive Tool for Reproducible Research in <span>R</span></a>.”</span> in <em>Implementing reproducible computational research</em>, edited by V. Stodden, F. Leisch, and R. D. Peng. Chapman; Hall/CRC.
</div>
<div id="ref-knitr2" class="csl-entry" role="listitem">
Xie, Yihui. 2015. <em><a href="https://yihui.name/knitr/">Dynamic Documents with <span>R</span> and Knitr</a></em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC.
</div>
<div id="ref-knitr1" class="csl-entry" role="listitem">
Xie, Yihui. 2018a. <em><a href="https://yihui.name/knitr/">Knitr: A General-Purpose Package for Dynamic Report Generation in r</a></em>.
</div>
<div id="ref-tinytex" class="csl-entry" role="listitem">
Xie, Yihui. 2018b. <em><a href="https://CRAN.R-project.org/package=tinytex">Tinytex: Helper Functions to Install and Maintain ’TeX Live’, and Compile ’LaTeX’ Documents</a></em>.
</div>
<div id="ref-kableextra" class="csl-entry" role="listitem">
Zhu, Hao. 2017. <em><a href="https://CRAN.R-project.org/package=kableExtra">kableExtra: Construct Complex Table with ’Kable’ and Pipe Syntax</a></em>.
</div>
</div>
<!--  to generate a citation entry for BibTeX, you can pass the returned object of citation() to toBibtex(), e.g. toBibtex(citation("xaringan")). Then  copy the output to a .bib file and add a unique citation key -->
<!-- https://bookdown.org/yihui/rmarkdown-cookbook/write-bib.html -->
<div style="page-break-after: always;"></div>
</section>
<section id="online-appendix" class="level1 unnumbered">
<h1 class="unnumbered">Online appendix</h1>
<section id="sec-rsessioninfo" class="level2" data-number="14.1">
<h2 data-number="14.1" class="anchored" data-anchor-id="sec-rsessioninfo"><span class="header-section-number">14.1</span> Attach R session info in appendix</h2>
<p>Since R and R packages are constantly evolving you might want to add the R session info that contains information on the R version as well as the packages that are loaded.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.0 (2024-04-24)
Platform: aarch64-apple-darwin20
Running under: macOS Sonoma 14.4.1

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
 [1] ggplot2_3.5.1      dplyr_1.1.4        gdtools_0.3.7      flextable_0.9.6   
 [5] gtsummary_1.7.2    gt_0.10.1          knitr_1.46         modelsummary_2.1.0
 [9] kableExtra_1.4.0   rmarkdown_2.27     pacman_0.5.1      

loaded via a namespace (and not attached):
 [1] gtable_0.3.5            bayestestR_0.13.2       xfun_0.44              
 [4] htmlwidgets_1.6.4       insight_0.19.11         vctrs_0.6.5            
 [7] tools_4.4.0             generics_0.1.3          datawizard_0.10.0      
[10] curl_5.2.1              tibble_3.2.1            fansi_1.0.6            
[13] pkgconfig_2.0.3         checkmate_2.3.1         data.table_1.15.4      
[16] uuid_1.2-0              lifecycle_1.0.4         farver_2.1.2           
[19] compiler_4.4.0          stringr_1.5.1           textshaping_0.3.7      
[22] munsell_0.5.1           httpuv_1.6.15           fontquiver_0.2.1       
[25] fontLiberation_0.1.0    sass_0.4.9              htmltools_0.5.8.1      
[28] yaml_2.3.8              pillar_1.9.0            later_1.3.2            
[31] crayon_1.5.2            tidyr_1.3.1             gfonts_0.2.0           
[34] broom.helpers_1.15.0    openssl_2.2.0           mime_0.12              
[37] fontBitstreamVera_0.1.1 zip_2.3.1               tidyselect_1.2.1       
[40] digest_0.6.35           performance_0.11.0      stringi_1.8.4          
[43] purrr_1.0.2             labeling_0.4.3          fastmap_1.2.0          
[46] grid_4.4.0              colorspace_2.1-0        cli_3.6.2              
[49] magrittr_2.0.3          crul_1.4.2              utf8_1.2.4             
[52] withr_3.0.0             backports_1.4.1         scales_1.3.0           
[55] promises_1.3.0          officer_0.6.6           askpass_1.2.0          
[58] ragg_1.3.2              shiny_1.8.1.1           evaluate_0.23          
[61] parameters_0.21.7       viridisLite_0.4.2       rlang_1.1.3            
[64] Rcpp_1.0.12             xtable_1.8-4            glue_1.7.0             
[67] httpcode_0.3.0          xml2_1.3.6              renv_0.16.0            
[70] svglite_2.1.3           rstudioapi_0.16.0       jsonlite_1.8.8         
[73] R6_2.5.1                tables_0.9.25           systemfonts_1.1.0      </code></pre>
</div>
</div>
</section>
<section id="all-the-code-in-the-paper" class="level2" data-number="14.2">
<h2 data-number="14.2" class="anchored" data-anchor-id="all-the-code-in-the-paper"><span class="header-section-number">14.2</span> All the code in the paper</h2>
<p>To simply attach all the code you used in the PDF file in the appendix see the R chunk in the underlying <code>.qmd</code> file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">cache =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use cache = TRUE if you want to speed up compilation</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">set</span>(<span class="at">output.format =</span> <span class="st">"html"</span>)  <span class="co"># Set to "html" for HTML output</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># A function to allow for showing some of the inline code</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>rinline <span class="ot">&lt;-</span> <span class="cf">function</span>(code){</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  html <span class="ot">&lt;-</span> <span class="st">'&lt;code  class="r"&gt;``` `r CODE` ```&lt;/code&gt;'</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub</span>(<span class="st">"CODE"</span>, code, html)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'tinytex'</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if pacman is installed if not install</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Install/load packages if not present</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  rmarkdown,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  kableExtra,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  modelsummary,</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  knitr,</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  gt,</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>  gtsummary</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="co">#|label: fig-versioning</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"#"</span>, <span class="fu">capture.output</span>(<span class="fu">sessionInfo</span>()), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">collapse =</span><span class="st">""</span>)) </span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or use message() instead of cat()</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data.csv"</span>)</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="fu">dput</span>(data[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,]) <span class="co"># here we only take a subset</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">structure</span>(<span class="fu">list</span>(<span class="at">Fertility =</span> <span class="fu">c</span>(<span class="fl">80.2</span>, <span class="fl">83.1</span>, <span class="fl">92.5</span>, <span class="fl">85.8</span>, <span class="fl">76.9</span>),</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>                       <span class="at">Agriculture =</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="fl">45.1</span>, <span class="fl">39.7</span>, <span class="fl">36.5</span>, <span class="fl">43.5</span>), </span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>                       <span class="at">Examination =</span> <span class="fu">c</span>(<span class="dv">15</span>L, <span class="dv">6</span>L, <span class="dv">5</span>L, <span class="dv">12</span>L, <span class="dv">17</span>L), </span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>                       <span class="at">Education =</span> <span class="fu">c</span>(<span class="dv">12</span>L, <span class="dv">9</span>L, <span class="dv">5</span>L, <span class="dv">7</span>L, <span class="dv">15</span>L), </span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>                       <span class="at">Catholic =</span> <span class="fu">c</span>(<span class="fl">9.96</span>, <span class="fl">84.84</span>, <span class="fl">93.4</span>, <span class="fl">33.77</span>, <span class="fl">5.16</span>), </span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>                       <span class="at">Infant.Mortality =</span> <span class="fu">c</span>(<span class="fl">22.2</span>, <span class="fl">22.2</span>, <span class="fl">20.2</span>, <span class="fl">20.3</span>, <span class="fl">20.6</span>)), </span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>                  <span class="at">class =</span> <span class="st">"data.frame"</span>, <span class="at">row.names =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="sc">-</span><span class="dv">5</span>L))</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(swiss[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,], <span class="at">row.names =</span> <span class="cn">TRUE</span>, </span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">'Table with kable() and kablestyling()'</span>, </span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">booktabs =</span> T, <span class="at">format=</span><span class="st">"simple"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>        kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">full_width =</span> T, </span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>                      <span class="at">latex_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, </span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"scale_down"</span>,</span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"HOLD_position"</span>),</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>                      <span class="at">font_size =</span> <span class="dv">11</span>)</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary_skim</span>(swiss, </span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>                 <span class="at">type=</span><span class="st">"numeric"</span>, </span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>                 <span class="at">histogram=</span>F, </span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>                 <span class="at">output=</span> <span class="st">"flextable"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># column widths</span></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">width</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">width =</span> <span class="fl">0.5</span>)</span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorical variables</span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>swiss<span class="sc">$</span>Education_cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(swiss<span class="sc">$</span>Education, </span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a>                   <span class="at">breaks=</span><span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="cn">Inf</span>), </span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"middle"</span>,<span class="st">"high"</span>))</span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a>swiss<span class="sc">$</span>Infant.Mortality_cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(swiss<span class="sc">$</span>Infant.Mortality, </span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a>                   <span class="at">breaks=</span><span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="fl">18.15</span>, <span class="fl">21.70</span>, <span class="cn">Inf</span>), </span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"middle"</span>,<span class="st">"high"</span>))</span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a>tab_cat <span class="ot">&lt;-</span> <span class="fu">datasummary_skim</span>(swiss, </span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>                            <span class="at">type=</span><span class="st">"categorical"</span>, </span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>                            <span class="at">output =</span> <span class="st">'flextable'</span>)</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a><span class="co">#additionally we want to change the font, fontsize and spacing</span></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"gdtools"</span>)</span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a>tab_cat <span class="ot">&lt;-</span> tab_cat <span class="sc">%&gt;%</span></span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">font</span>(<span class="at">fontname=</span><span class="st">"Times New Roman"</span>, <span class="at">part=</span><span class="st">"header"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">font</span>(<span class="at">fontname=</span><span class="st">"Times New Roman"</span>, <span class="at">j=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fontsize</span>(<span class="at">size=</span><span class="dv">12</span>, <span class="at">part=</span><span class="st">"header"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fontsize</span>(<span class="at">size=</span><span class="dv">12</span>, <span class="at">j=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">line_spacing</span>(<span class="at">space =</span> <span class="fl">0.3</span>, <span class="at">part =</span> <span class="st">"all"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a>  <span class="co"># column widths</span></span>
<span id="cb21-87"><a href="#cb21-87" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">autofit</span>()</span>
<span id="cb21-88"><a href="#cb21-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-89"><a href="#cb21-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-90"><a href="#cb21-90" aria-hidden="true" tabindex="-1"></a>tab_cat</span>
<span id="cb21-91"><a href="#cb21-91" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb21-92"><a href="#cb21-92" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Fertility <span class="sc">~</span> Education <span class="sc">+</span> Agriculture, <span class="at">data =</span> swiss)</span>
<span id="cb21-93"><a href="#cb21-93" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Fertility <span class="sc">~</span> Education <span class="sc">+</span> Catholic, <span class="at">data =</span> swiss)</span>
<span id="cb21-94"><a href="#cb21-94" aria-hidden="true" tabindex="-1"></a>M3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Fertility <span class="sc">~</span> Education <span class="sc">+</span> Infant.Mortality <span class="sc">+</span> Agriculture, <span class="at">data =</span> swiss)</span>
<span id="cb21-95"><a href="#cb21-95" aria-hidden="true" tabindex="-1"></a>models <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"M1"</span> <span class="ot">=</span> M1, <span class="st">"M2"</span> <span class="ot">=</span>  M2, <span class="st">"M3"</span> <span class="ot">=</span> M3)</span>
<span id="cb21-96"><a href="#cb21-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-97"><a href="#cb21-97" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb21-98"><a href="#cb21-98" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb21-99"><a href="#cb21-99" aria-hidden="true" tabindex="-1"></a><span class="co"># additionally we want to change the font, font size and spacing</span></span>
<span id="cb21-100"><a href="#cb21-100" aria-hidden="true" tabindex="-1"></a>table4 <span class="ot">&lt;-</span> <span class="fu">modelsummary</span>(models,</span>
<span id="cb21-101"><a href="#cb21-101" aria-hidden="true" tabindex="-1"></a>             <span class="at">output =</span> <span class="st">'gt'</span>,</span>
<span id="cb21-102"><a href="#cb21-102" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="cn">TRUE</span>,</span>
<span id="cb21-103"><a href="#cb21-103" aria-hidden="true" tabindex="-1"></a>             <span class="at">notes =</span> <span class="st">"Notes: put some notes here..."</span>,</span>
<span id="cb21-104"><a href="#cb21-104" aria-hidden="true" tabindex="-1"></a>             <span class="at">threeparttable =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-105"><a href="#cb21-105" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_spanner</span>(<span class="at">label =</span> <span class="st">'Dependent variable: Fertility'</span>, <span class="at">columns =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb21-106"><a href="#cb21-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-107"><a href="#cb21-107" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(knitr<span class="sc">::</span><span class="fu">is_html_output</span>()){table4}<span class="cf">else</span></span>
<span id="cb21-108"><a href="#cb21-108" aria-hidden="true" tabindex="-1"></a>    {table4 <span class="sc">%&gt;%</span> </span>
<span id="cb21-109"><a href="#cb21-109" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">as_latex</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-110"><a href="#cb21-110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.character</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-111"><a href="#cb21-111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">(Intercept</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"Intercept"</span>, .) <span class="sc">%&gt;%</span> </span>
<span id="cb21-112"><a href="#cb21-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>()}</span>
<span id="cb21-113"><a href="#cb21-113" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(swiss<span class="sc">$</span>Catholic, swiss<span class="sc">$</span>Fertility)</span>
<span id="cb21-114"><a href="#cb21-114" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb21-115"><a href="#cb21-115" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(swiss, <span class="fu">aes</span>(<span class="at">x=</span>Catholic, <span class="at">y=</span>Fertility, <span class="at">shape=</span>Education_cat)) <span class="sc">+</span></span>
<span id="cb21-116"><a href="#cb21-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-117"><a href="#cb21-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Agriculture"</span>, <span class="at">y =</span> <span class="st">"Fertility"</span>, <span class="at">shape=</span><span class="st">"Education"</span>) <span class="sc">+</span></span>
<span id="cb21-118"><a href="#cb21-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb21-119"><a href="#cb21-119" aria-hidden="true" tabindex="-1"></a>plot</span>
<span id="cb21-120"><a href="#cb21-120" aria-hidden="true" tabindex="-1"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>()</span>
<span id="cb21-121"><a href="#cb21-121" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"quarto"</span>)</span>
<span id="cb21-122"><a href="#cb21-122" aria-hidden="true" tabindex="-1"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb21-123"><a href="#cb21-123" aria-hidden="true" tabindex="-1"></a>  <span class="st">"paper.qmd"</span>, </span>
<span id="cb21-124"><a href="#cb21-124" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_format =</span> <span class="fu">c</span>(<span class="st">"pdf"</span>, <span class="st">"html"</span>)</span>
<span id="cb21-125"><a href="#cb21-125" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-126"><a href="#cb21-126" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sessionInfo</span>(), <span class="at">local =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>You can always check your working directory in R with <code>getwd()</code>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Another good folder setup would be to store all files needed as input files for the R Markdown manuscript in a subfolder called “input” and all output files that are produced apart from paper.html and paper.pdf in a subfolder called “output”.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sebstier\.github\.io\/ma_css24\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Sebastian Stier 2024</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Powered by <a href="https://quarto.org">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>